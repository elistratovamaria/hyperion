const navMain=document.querySelector(".main-nav__wrapper"),navToggle=document.querySelector(".main-nav__toggle");navToggle.addEventListener("click",(()=>{navMain.classList.toggle("main-nav__wrapper--opened"),navToggle.classList.toggle("main-nav__toggle--opened")}));const swiperConstruction=new Swiper(".construction__slider",{navigation:{nextEl:".construction__button--next",prevEl:".construction__button--prev"},slidesPerView:1,slideToClickedSlide:!0,thumbs:{swiper:{el:".construction__mini-slider",breakpoints:{375:{slidesPerView:"auto",spaceBetween:4},768:{slidesPerView:5,spaceBetween:16}}}}}),swiperMontage=new Swiper(".montage__slider",{navigation:{nextEl:".montage__button--next",prevEl:".montage__button--prev"},slidesPerView:1,slideToClickedSlide:!0,thumbs:{swiper:{el:".montage__mini-slider",breakpoints:{375:{slidesPerView:"auto",spaceBetween:4},768:{slidesPerView:5,spaceBetween:16}}}}}),swiperBuildings=new Swiper(".buildings__slider",{navigation:{nextEl:".buildings__button--next",prevEl:".buildings__button--prev"},slidesPerView:1,slideToClickedSlide:!0,thumbs:{swiper:{el:".buildings__mini-slider",breakpoints:{375:{slidesPerView:"auto",spaceBetween:4},768:{slidesPerView:5,spaceBetween:16}}}}}),swiperTeam=new Swiper(".team__list",{pagination:{el:".swiper-pagination",clickable:!0},autoHeight:!0,slidesPerView:1,effect:"fade",fadeEffect:{crossFade:!0}}),slideElements=document.querySelectorAll(".team__item"),imgElements=document.querySelectorAll(".team__small-item");function onImgClickHandler(){imgElements.forEach((e=>{e.addEventListener("click",(()=>{const t=Number(e.dataset.imgIndex);swiperTeam.slideTo(t)}))}))}document.addEventListener("DOMContentLoaded",(function(){for(let e=0;e<imgElements.length;e++)imgElements[e].dataset.imgIndex=e}),!1),onImgClickHandler();class Tabs{constructor(){this._windowWidth=window.innerWidth,this._documentClickHandler=this._documentClickHandler.bind(this),this._init()}_init(){this._initAllTabs(),document.addEventListener("click",this._documentClickHandler)}_resizeObserver(){return new ResizeObserver((e=>{for(let t of e)t.target.classList.contains("is-active")&&this._updateTabHeight()}))}_documentClickHandler(e){const t=e.target;if(!t.closest('[data-tabs="control"]'))return;e.preventDefault();const s=t.closest('[data-tabs="control"]');this.openTab(s)}_initAllTabs(){const e=document.querySelectorAll('[data-tabs="parent"]'),t=document.querySelectorAll('[data-tabs="element"].for-load');e.forEach((e=>{this._initTab(e)})),t.forEach((e=>{e.classList.remove("for-load")}))}_removeAllActiveClasses(e,t){t.forEach((e=>{e.classList.remove("is-active")})),e.forEach(((e,t)=>{e.classList.remove("is-active"),e.setAttribute("data-index",t)}))}_setTabStartState(e,t,s,i,a,n){const l=this._returnActiveIndex(a),r="max"===t?this._returnMaxHeight(s):s[l].offsetHeight;this._removeAllActiveClasses(a,s),e.classList.add("no-transition"),a[l].classList.add("is-active"),s[l].classList.add("is-active"),"unset"!==t&&(i.style.height=`${r}px`),setTimeout((()=>{n&&e.classList.remove("no-transition")}),n)}_returnActiveIndex(e){let t=0,s=!0;return e.forEach(((e,i)=>{e.classList.contains("is-active")&&s&&(t=i,s=!1)})),t}_returnMaxHeight(e){let t=[];return e.forEach((e=>{t.push(e.offsetHeight)})),t.sort(((e,t)=>e-t)),t[t.length-1]}_returnScopeList(e,t){const s=[];return e.forEach((e=>{e.closest('[data-tabs="parent"]')===t&&s.push(e)})),s}_returnScopeChild(e,t){let s;return e.forEach((e=>{e.closest('[data-tabs="parent"]')===t&&(s=e)})),s}_updateTabHeight(){document.querySelectorAll('[data-tabs="element"].is-active').forEach((e=>{let t=!1;e.closest('[data-tabs="parent"]').closest('[data-tabs="element"]')&&(t=!0),this._setTabElementHeight(e,t)}))}_setTabElementHeight(e,t){const s=e.closest('[data-tabs="parent"]'),i=s.dataset.height,a=this._returnScopeChild(s.querySelectorAll('[data-tabs="content"]'),s),n=this._returnScopeList(s.querySelectorAll('[data-tabs="element"]'),s);t||s.classList.add("no-transition"),a.style.height="max"===i?`${this._returnMaxHeight(n)}px`:"unset"===i?null:`${this._returnScopeChild(s.querySelectorAll('[data-tabs="element"].is-active'),s).offsetHeight}px`,setTimeout((()=>s.classList.remove("no-transition")))}_initTab(e){const t=e.dataset.height,s=e.dataset.delay?e.dataset.delay:0,i=e.querySelector('[data-tabs="content"]'),a=this._returnScopeList(e.querySelectorAll('[data-tabs="control"]'),e),n=this._returnScopeList(e.querySelectorAll('[data-tabs="element"]'),e);this._setTabStartState(e,t,n,i,a,s),"unset"!==t&&n.forEach((e=>{this._resizeObserver().observe(e)})),setTimeout((()=>{e.classList.remove("no-transition-global")}))}reInit(){this._initAllTabs()}openTab(e){const t=e.dataset.index,s=e.closest('[data-tabs="parent"]');if(e.classList.contains("is-active")||s.classList.contains("no-action"))return;const i=s.dataset.delay?s.dataset.delay:0,a=s.dataset.height,n=s.querySelector('[data-tabs="content"]'),l=this._returnScopeList(s.querySelectorAll('[data-tabs="element"]'),s),r=this._returnScopeChild(s.querySelectorAll('[data-tabs="control"].is-active'),s),o=this._returnScopeChild(s.querySelectorAll('[data-tabs="element"].is-active'),s),c=n.offsetHeight,d=l[t].offsetHeight;s.classList.add("no-action"),document.activeElement.blur(),r&&r.classList.remove("is-active"),o&&o.classList.remove("is-active"),c>d?setTimeout((()=>{"max"!==a&&"unset"!==a&&(n.style.height=d+"px"),e.classList.add("is-active"),l[t].classList.add("is-active"),s.classList.remove("no-action")}),i):("max"!==a&&"unset"!==a&&(n.style.height=d+"px"),setTimeout((()=>{e.classList.add("is-active"),l[t].classList.add("is-active"),s.classList.remove("no-action")}),i))}}let tabs;const initTabs=()=>{tabs=new Tabs,window.tabs=tabs},control=document.querySelector(".tabs__link");window.addEventListener("DOMContentLoaded",(()=>{window.addEventListener("load",(()=>{tabs=new Tabs,window.tabs=tabs}))}));const tabsSlider=document.querySelector(".tabs__links"),breakpointTablet=window.matchMedia("(min-width: 768px)"),initTabsSlider=()=>{let e;const t=()=>{let e;e||(e=setTimeout((function(){e=null,s()}),100))},s=()=>{!0===breakpointTablet.matches?void 0!==e&&void 0!==sliderTabsContentInit&&(e.destroy(!0,!0),sliderTabsContentInit.destroy(!0,!0)):!1===breakpointTablet.matches&&tabsSlider&&(e=new Swiper(tabsSlider,{slidesPerView:"auto",spaceBetween:16,grabCursor:!0,slideToClickedSlide:!0,observer:!0,observeParents:!0,observeSlideChildren:!0}))};breakpointTablet.addListener(t),t()};initTabsSlider();